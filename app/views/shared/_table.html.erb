<div id="<%= list.first.class.name.downcase.pluralize %>-table" class="table__container radius-xl">
  <table class="table">
    <thead>
      <% table_headers = header_renderers %>

      <tr>
        <% headers.each do |header| %>
          <th class="table__header--<%= header.to_s.downcase %>">
            <%= table_headers[header] ? table_headers[header] : header.to_s.titleize %>
          </th>
        <% end %>
      </tr>
    </thead>

    <%= render 'shared/table_footer', col_span: headers.size %>

    <tbody>
      <% table_data = attribute_renderers(@table_actions) %>

      <% list.each do |item| %>
        <%# Add fulfilled data attribute to the row if the item is an order %>
        <% if item.class.name.downcase == "order" %>
          <% fulfilled = item.fulfilled %>
        <% end %>

        <tr class="table__row table__row--<%= item.class.name.downcase %>" data-fulfilled="<%= fulfilled %>">
          <% headers.each do |attribute| %>
            <td class="table__<%= attribute == :image || attribute == :image ? "image--container" : attribute %>">
              <%= table_data[attribute] ? table_data[attribute].call(item) : item.send(attribute) %>
            </td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
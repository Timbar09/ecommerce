<svg class="chart__svg" viewBox="0 0 100 100" preserveAspectRatio="none">
  <% paths[:paths].each do |path| %>
    <% color = path[:color][:code] %>
    <% hover = path[:color][:light] %>

    <% title = path[:color][:title] %>
    <% text_width = case title.length
        when 1..3 then 20
        when 4..6 then 30
        when 7..9 then 40
        else 50
        end
      %>
    <% text_height = 11 %>
    <% x = path[:color][:x] %>
    <% y = path[:color][:y] %>

    <% stroke = path[:one_segment] ? 'none' : '#ffffff' %>
    <% stroke_width = path[:one_segment] ? 0 : 1 %>

    <% styles = {
        '--pie-color': color, '--pie-hover-color': hover
        }.map { |k, v| "#{k}: #{v}" }.join(';')
      %>

    <path d="<%= path[:path_data] %>" style="<%= styles %>" stroke="<%= stroke %>" stroke-width="<%= stroke_width %>" />
  <% end %>
</svg>